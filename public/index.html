<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Tic-Tac-Toe Game</title>
  <link rel="stylesheet" href="styles.css">
</head>

<body>
  <div class="container">
    <h1>Tic-Tac-Toe</h1>
    <p>Developer: Oliver McMillen</p>
    
    <div id="help-section">
      <a onclick="showHowToPlay()">How To Play</a>
      <br><br>
    </div>

    <div id="login-section">
      <input type="text" id="username" placeholder="Enter username" />
      <br><br>
      <button onclick="submitUsername()">Submit</button>
    </div>

    <div id="current-login-status" style="display: none;">
      </div>

    <div id="main-content" style="display:none;">
      <div id="user-list-container" style="display: flex; gap: 20px;">
        <div
          style="flex: 1; max-height: 300px; overflow-y: auto; border: 1px solid #ccc; padding: 10px; border-radius: 6px;">
          <h2>Players</h2>
          <table id="user-table" style="width: 100%; border-collapse: collapse;">
            <thead>
              <tr>
                <th style="text-align: left; padding: 8px;">X</th>
                <th style="text-align: left; padding: 8px;">O</th>
              </tr>
            </thead>
            <tbody id="user-table-body">
            </tbody>
          </table>
        </div>

        <div
          style="flex: 1; max-height: 300px; overflow-y: auto; border: 1px solid #ccc; padding: 10px; border-radius: 6px;">
          <h3>Idle Clients</h3>
          <table id="idle-table" style="width: 100%; border-collapse: collapse;"></table>
        </div>
      </div>

      <div id="new-game-container">
        <button onclick="promptNewGame()">NEW GAME</button>
        <div id="symbol-choice" style="display: none;">
          <p>Choose your symbol:</p>
          <a style="padding-right: 30px;" onclick="startNewGame('X')">X</a>
          <a style="padding-right: 30px;" onclick="startNewGame('O')">O</a>
        </div>
      </div>
    </div>

        <!-- How To Overlay - Displayed regardless of session status-->
    <div class="overlay" id="helpOverlay">
        <div class="overlay-content">
            <span class="close-btn" id="closeHelp">[x]</span>
            <h3>Welcome to the Tic-Tac-Toe game! Hereâ€™s how to play:</h3>
            <p>1. Enter a unique username.</p>
            <p>2. Click 'New Game' to choose your symbol (X or O).</p>
            <p>3. If you choose X, you can wait for an opponent or play against O.</p>
            <p>4. If you choose O, you can only play against X.</p>
            <p>5. Click 'Join' next to a waiting player to start a game.</p>
            <p>6. If you are waiting, you can start a new game at any time.</p>
            <p>7. If you are playing, you can only play against your opponent.</p>
            <p>8. Enjoy the game!</p>
        </div>
    </div>

        <!-- How To Overlay - Displayed regardless of session status-->
    <div class="overlay" id="usernameErrorOverlay">
        <div class="overlay-content">
            <span class="close-btn" id="closeUsernameErr">[x]</span>
            <h3>Error!</h3>
            <p>Username is taken already or is blank. Please try again.</p>
        </div>
    </div>

    <div id="game-section" style="display: none;">
  <div id="game-info"></div>
  <div id="board" class="board"></div>
</div>

  </div>

  <script src="/socket.io/socket.io.js"></script>
  <script src="client.js"></script>
</body>

</html>